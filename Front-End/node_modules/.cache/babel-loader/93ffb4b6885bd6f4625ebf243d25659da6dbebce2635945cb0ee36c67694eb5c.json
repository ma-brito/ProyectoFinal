{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Dropbox\\\\PC\\\\Documents\\\\GitHub\\\\ProyectoFinal\\\\Front-End\\\\src\\\\components\\\\VerPerfil.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst handleNameChange = async event => {\n  event.preventDefault();\n\n  if (!newName) {\n    alert(\"Datos inválidos\");\n    return;\n  }\n\n  try {\n    const response = await axios.put('http://localhost:5000/updateuser', {\n      id: user.id,\n      new_data: {\n        nombre: newName\n      }\n    });\n\n    if (response.status === 200) {\n      console.log(\"User name updated\");\n      setUser({ ...user,\n        nombre: newName\n      });\n      setIsEditing(false);\n    }\n  } catch (error) {\n    alert(\"Hay un error con el servidor\");\n  }\n};\n\nconst handleEmailChange = async event => {\n  event.preventDefault();\n\n  if (!newEmail) {\n    alert(\"Datos inválidos\");\n    return;\n  }\n\n  try {\n    const response = await axios.put('http://localhost:5000/updateuser', {\n      id: user.id,\n      new_data: {\n        email: newEmail\n      }\n    });\n\n    if (response.status === 200) {\n      console.log(\"User email updated\");\n      setUser({ ...user,\n        email: newEmail\n      });\n      setIsEditing(false);\n    }\n  } catch (error) {\n    alert(\"Hay un error con el servidor\");\n  }\n};\n\nconst handlePasswordChange = async event => {\n  event.preventDefault();\n\n  if (!currentPassword || newPassword !== confirmPassword) {\n    alert(\"Datos inválidos\");\n    return;\n  }\n\n  try {\n    const response = await axios.put('http://localhost:5000/updatepassword', {\n      id: user.id,\n      currentPassword: currentPassword,\n      newPassword: newPassword\n    });\n\n    if (response.status === 200) {\n      console.log(\"Password updated\");\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n    }\n  } catch (error) {\n    alert(\"Hay un error con el servidor\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Perfil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Nombre: \", user.nombre]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), isEditing === 'nombre' ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleNameChange,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newName,\n          onChange: event => setNewName(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Guardar cambios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing('nombre'),\n        children: \"Editar nombre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Email: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), isEditing === 'email' ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleEmailChange,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newEmail,\n          onChange: event => setNewEmail(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Guardar cambios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing('email'),\n        children: \"Editar email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cambiar contrase\\xF1a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), isEditing === 'password' ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePasswordChange,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Contrase\\xF1a actual:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: currentPassword,\n            onChange: event => setCurrentPassword(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nueva contrase\\xF1a:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: newPassword,\n            onChange: event => setNewPassword(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Confirmar nueva contrase\\xF1a:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: confirmPassword,\n            onChange: event => setConfirmPassword(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Cambiar contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing('password'),\n        children: \"Cambiar contrase\\xF1a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"sources":["C:/Users/Lenovo/Dropbox/PC/Documents/GitHub/ProyectoFinal/Front-End/src/components/VerPerfil.js"],"names":["handleNameChange","event","preventDefault","newName","alert","response","axios","put","id","user","new_data","nombre","status","console","log","setUser","setIsEditing","error","handleEmailChange","newEmail","email","handlePasswordChange","currentPassword","newPassword","confirmPassword","setCurrentPassword","setNewPassword","setConfirmPassword","isEditing","setNewName","target","value","setNewEmail"],"mappings":"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","sourcesContent":["const handleNameChange = async (event) => {\r\n    event.preventDefault();\r\n    if (!newName) {\r\n      alert(\"Datos inválidos\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.put('http://localhost:5000/updateuser', {\r\n        id: user.id,\r\n        new_data: { nombre: newName }\r\n      });\r\n      if (response.status === 200) {\r\n        console.log(\"User name updated\");\r\n        setUser({ ...user, nombre: newName });\r\n        setIsEditing(false);\r\n      }\r\n    } catch (error) {\r\n      alert(\"Hay un error con el servidor\");\r\n    }\r\n  };\r\n  \r\n  const handleEmailChange = async (event) => {\r\n    event.preventDefault();\r\n    if (!newEmail) {\r\n      alert(\"Datos inválidos\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.put('http://localhost:5000/updateuser', {\r\n        id: user.id,\r\n        new_data: { email: newEmail }\r\n      });\r\n      if (response.status === 200) {\r\n        console.log(\"User email updated\");\r\n        setUser({ ...user, email: newEmail });\r\n        setIsEditing(false);\r\n      }\r\n    } catch (error) {\r\n      alert(\"Hay un error con el servidor\");\r\n    }\r\n  };\r\n  \r\n  const handlePasswordChange = async (event) => {\r\n    event.preventDefault();\r\n    if (!currentPassword || newPassword !== confirmPassword) {\r\n      alert(\"Datos inválidos\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.put('http://localhost:5000/updatepassword', {\r\n        id: user.id,\r\n        currentPassword: currentPassword,\r\n        newPassword: newPassword\r\n      });\r\n      if (response.status === 200) {\r\n        console.log(\"Password updated\");\r\n        setCurrentPassword(\"\");\r\n        setNewPassword(\"\");\r\n        setConfirmPassword(\"\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"Hay un error con el servidor\");\r\n    }\r\n    return (\r\n        <div>\r\n          <h1>Perfil</h1>\r\n          <div>\r\n            <p>Nombre: {user.nombre}</p>\r\n            {isEditing === 'nombre' ? (\r\n              <form onSubmit={handleNameChange}>\r\n                <input type=\"text\" value={newName} onChange={(event) => setNewName(event.target.value)} />\r\n                <button type=\"submit\">Guardar cambios</button>\r\n              </form>\r\n            ) : (\r\n              <button onClick={() => setIsEditing('nombre')}>Editar nombre</button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <p>Email: {user.email}</p>\r\n            {isEditing === 'email' ? (\r\n              <form onSubmit={handleEmailChange}>\r\n                <input type=\"text\" value={newEmail} onChange={(event) => setNewEmail(event.target.value)} />\r\n                <button type=\"submit\">Guardar cambios</button>\r\n              </form>\r\n            ) : (\r\n              <button onClick={() => setIsEditing('email')}>Editar email</button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h2>Cambiar contraseña</h2>\r\n            {isEditing === 'password' ? (\r\n              <form onSubmit={handlePasswordChange}>\r\n                <label>\r\n                  Contraseña actual:\r\n                  <input type=\"password\" value={currentPassword} onChange={(event) => setCurrentPassword(event.target.value)} />\r\n                </label>\r\n                <label>\r\n                  Nueva contraseña:\r\n                  <input type=\"password\" value={newPassword} onChange={(event) => setNewPassword(event.target.value)} />\r\n                </label>\r\n                <label>\r\n                  Confirmar nueva contraseña:\r\n                  <input type=\"password\" value={confirmPassword} onChange={(event) => setConfirmPassword(event.target.value)} />\r\n                </label>\r\n                <button type=\"submit\">Cambiar contraseña</button>\r\n              </form>\r\n            ) : (\r\n              <button onClick={() => setIsEditing('password')}>Cambiar contraseña</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}